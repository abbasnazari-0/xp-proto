# XP Protocol - eXtreme Privacy ğŸ›¡ï¸

Ù¾Ø±ÙˆØªÙˆÚ©Ù„ VPN Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ Ùˆ Ù…Ù‚Ø§ÙˆÙ… Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± DPI (Deep Packet Inspection)

## ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§

### Ø­Ø§Ù„Øª TLS (Ù¾ÛŒØ´â€ŒÙØ±Ø¶)
- ğŸ”ª **TLS ClientHello Fragmentation** - Ø´Ú©Ø³ØªÙ† Ù¾Ú©Øªâ€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ± Ø²Ø¯Ù† ØªØ´Ø®ÛŒØµ SNI
- ğŸ­ **Chrome TLS Fingerprint** - ØªÙ‚Ù„ÛŒØ¯ Ø§Ø² fingerprint Ù…Ø±ÙˆØ±Ú¯Ø± Chrome
- ğŸ” **ChaCha20-Poly1305** - Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ø³Ø±ÛŒØ¹ Ùˆ Ø§Ù…Ù†
- ğŸ“¦ **Random Padding** - Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† noise Ø¨Ø±Ø§ÛŒ Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯Ù† Ø§Ù„Ú¯ÙˆÛŒ ØªØ±Ø§ÙÛŒÚ©
- â±ï¸ **Timing Obfuscation** - Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø±ÙØªØ§Ø± HTTP Ø¹Ø§Ø¯ÛŒ
- ğŸ¯ **Anti-Probe** - ÙˆÙ‚ØªÛŒ Ú©Ø³ÛŒ Ø³Ø±ÙˆØ± Ø±Ùˆ probe Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŒ ÛŒÙ‡ Ø³Ø§ÛŒØª ÙˆØ§Ù‚Ø¹ÛŒ Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ù‡!

### Ø­Ø§Ù„Øª Raw (Ultimate Stealth! ğŸ¥·)
- ğŸ”¥ **Raw TCP Packets** - Ø¯ÙˆØ± Ø²Ø¯Ù† Ú©Ø§Ù…Ù„ TCP stack Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„
- ğŸ‘» **Invisible** - Ù‡ÛŒÚ† socket Ø¯Ø± netstat/ss Ø¯ÛŒØ¯Ù‡ Ù†Ù…ÛŒØ´Ù‡
- ğŸ”€ **TCP Flag Rotation** - Ú†Ø±Ø®Ø´ Ø¨ÛŒÙ† flagÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù TCP
- ğŸ“¡ **KCP over Raw** - ØªØ±Ù†Ø³Ù¾ÙˆØ±Øª reliable Ø±ÙˆÛŒ Ù¾Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Ù…
- ğŸ² **FEC (Forward Error Correction)** - ØªØ­Ù…Ù„ packet loss

---

## ğŸš€ Ù†ØµØ¨ Ø®ÙˆØ¯Ú©Ø§Ø± Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ubuntu (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ!)

ÙÙ‚Ø· Ø¨Ø§ ÛŒÚ© Ø¯Ø³ØªÙˆØ±ØŒ Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø®ÙˆØ¯Ú©Ø§Ø± Ù†ØµØ¨ Ù…ÛŒØ´Ù‡:

```bash
# Ù†ØµØ¨ Ø¢Ù†Ù„Ø§ÛŒÙ† (ÛŒÚ© Ø¯Ø³ØªÙˆØ±!)
curl -sSL https://raw.githubusercontent.com/xp-proto/xp/main/install-online.sh | sudo bash
```

ÛŒØ§ Ø§Ú¯Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ùˆ Ø¯Ø§Ø±ÛŒØ¯:

```bash
# Ú©Ù¾ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ù‡ Ø³Ø±ÙˆØ±
scp -r xp-proto/ root@YOUR_SERVER:/tmp/

# SSH Ø¨Ù‡ Ø³Ø±ÙˆØ± Ùˆ Ù†ØµØ¨
ssh root@YOUR_SERVER
cd /tmp/xp-proto
sudo bash install.sh
```

### Ú†ÛŒ Ù†ØµØ¨ Ù…ÛŒØ´Ù‡ØŸ

| Ù…ÙˆØ±Ø¯ | ØªÙˆØ¶ÛŒØ­ |
|------|-------|
| ğŸ³ Docker | Ø§Ø¬Ø±Ø§ Ø¯Ø± container Ø§ÛŒØ²ÙˆÙ„Ù‡ |
| ğŸ”¥ UFW Firewall | ÙÙ‚Ø· Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø§Ø² |
| ğŸ›¡ï¸ Fail2ban | Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² SSH |
| ğŸš€ BBR | Ø¨Ù‡Ø¨ÙˆØ¯ Ø³Ø±Ø¹Øª TCP |
| ğŸ”„ Auto Updates | Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± |

### Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø¯ÛŒØ±ÛŒØª

```bash
xp start      # Ø´Ø±ÙˆØ¹ Ø³Ø±ÙˆØ±
xp stop       # ØªÙˆÙ‚Ù Ø³Ø±ÙˆØ±
xp restart    # Ø±ÛŒØ³ØªØ§Ø±Øª
xp status     # ÙˆØ¶Ø¹ÛŒØª
xp logs       # Ù„Ø§Ú¯â€ŒÙ‡Ø§
xp key        # Ù†Ù…Ø§ÛŒØ´ Ú©Ù„ÛŒØ¯
xp uninstall  # Ø­Ø°Ù
```

---

## Ù†ØµØ¨ Ø¯Ø³ØªÛŒ (Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù†)

```bash
# Clone
git clone https://github.com/xp-proto/xp
cd xp

# Build
go build -o bin/xp-server ./cmd/xp-server
go build -o bin/xp-client ./cmd/xp-client
```

## Ø§Ø³ØªÙØ§Ø¯Ù‡

### Û±. ØªÙˆÙ„ÛŒØ¯ Ú©Ù„ÛŒØ¯

```bash
./bin/xp-server -genkey
# Output: ğŸ”‘ New key: ABC123...
```

### Û². ØªÙ†Ø¸ÛŒÙ… Ø³Ø±ÙˆØ±

ÙØ§ÛŒÙ„ `server.yaml`:
```yaml
mode: server

server:
  listen: "0.0.0.0:443"
  key: "Ú©Ù„ÛŒØ¯_ØªÙˆÙ„ÛŒØ¯_Ø´Ø¯Ù‡"
  fake_site: "www.microsoft.com"
  probe_resist: true
  fallback_site: "www.microsoft.com"
  fragment: true
  padding: true
  timing_jitter: true
```

Ø§Ø¬Ø±Ø§:
```bash
./bin/xp-server -c server.yaml
```

### Û³. ØªÙ†Ø¸ÛŒÙ… Ú©Ù„Ø§ÛŒÙ†Øª

ÙØ§ÛŒÙ„ `client.yaml`:
```yaml
mode: client

client:
  server_addr: "Ø¢Ø¯Ø±Ø³_Ø³Ø±ÙˆØ±:443"
  key: "Ù‡Ù…Ø§Ù†_Ú©Ù„ÛŒØ¯_Ø³Ø±ÙˆØ±"
  fake_sni: "www.microsoft.com"
  socks_addr: "127.0.0.1:1080"
  fragment: true
  padding: true
  timing_jitter: true
  fingerprint: "chrome"
```

Ø§Ø¬Ø±Ø§:
```bash
./bin/xp-client -c client.yaml
```

### Û´. Ø§Ø³ØªÙØ§Ø¯Ù‡

Ù…Ø±ÙˆØ±Ú¯Ø± ÛŒØ§ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø®ÙˆØ¯ØªÙˆ Ø¨Ù‡ SOCKS5 proxy ÙˆØµÙ„ Ú©Ù†:
- **Address:** `127.0.0.1`
- **Port:** `1080`

---

## ğŸ¥· Ø­Ø§Ù„Øª Raw (Ultimate Stealth)

Ø§ÛŒÙ† Ø­Ø§Ù„Øª Ø§Ø² Ù¾Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Ù… TCP Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ùˆ **Ú©Ø§Ù…Ù„Ø§Ù‹ Ø§Ø² TCP stack Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„ Ø¹Ø¨ÙˆØ± Ù…ÛŒâ€ŒÚ©Ù†Ù‡!**

### Ú†Ø±Ø§ Raw modeØŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ø­Ø§Ù„Øª Ø¹Ø§Ø¯ÛŒ (TLS)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  App â†’ Socket â†’ OS TCP Stack â†’ Network                       â”‚
â”‚                     â†‘                                        â”‚
â”‚              DPI Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø§ÛŒÙ†Ø¬Ø§                               â”‚
â”‚              connection Ø±Ùˆ Ø¨Ø¨ÛŒÙ†Ù‡                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ø­Ø§Ù„Øª Raw ğŸ¥·                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  App â†’ XP Protocol â†’ Raw Packet (pcap) â†’ Network             â”‚
â”‚                                                              â”‚
â”‚  âœ… Ù‡ÛŒÚ† socket Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ù‡!                         â”‚
â”‚  âœ… netstat/ss Ù‡ÛŒÚ†ÛŒ Ù†Ø´ÙˆÙ† Ù†Ù…ÛŒØ¯Ù‡!                              â”‚
â”‚  âœ… DPI ÙÙ‚Ø· Ù¾Ú©Øªâ€ŒÙ‡Ø§ÛŒ random Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ù‡!                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§

```bash
# macOS
brew install libpcap

# Ubuntu/Debian  
sudo apt-get install libpcap-dev

# RHEL/CentOS
sudo yum install libpcap-devel
```

### Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø¨Ú©Ù‡

```bash
# Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† interface
ip addr  # Linux
ifconfig # macOS

# Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† MAC Ø±ÙˆØªØ±
arp -a | grep gateway
# ÛŒØ§
ip neigh show | grep gateway  # Linux
```

### ØªÙ†Ø¸ÛŒÙ… Ú©Ù„Ø§ÛŒÙ†Øª Raw

ÙØ§ÛŒÙ„ `client-raw.yaml`:
```yaml
mode: client

transport:
  mode: raw   # ğŸ¥· Ultimate stealth!
  
  raw:
    interface: "en0"           # eth0 Ø¯Ø± Linux
    local_ip: "192.168.1.100"  # IP Ø®ÙˆØ¯Øª
    router_mac: "aa:bb:cc:dd:ee:ff"  # MAC Ø±ÙˆØªØ±
    tcp_flags: ["PA", "A"]     # Ú†Ø±Ø®Ø´ flag
    use_kcp: true              # Reliable transport

client:
  server_addr: "your-server.com:443"
  key: "YOUR_SECRET_KEY"
  socks_addr: "127.0.0.1:1080"
```

### Ø§Ø¬Ø±Ø§ (Ù†ÛŒØ§Ø² Ø¨Ù‡ sudo)

```bash
# Raw mode Ù†ÛŒØ§Ø² Ø¨Ù‡ root Ø¯Ø§Ø±Ù‡!
sudo ./bin/xp-client -c client-raw.yaml
```

---

## Ú†Ø·ÙˆØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    XP Protocol Flow                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Client                   DPI                    Server      â”‚
â”‚    â”‚                       â”‚                        â”‚        â”‚
â”‚    â”‚â”€â”€[Fragment1]â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚        â”‚
â”‚    â”‚       â””â”€â”€"www.mic"    â”‚ ğŸ¤· Ù†Ù…ÛŒâ€ŒÙÙ‡Ù…Ù‡           â”‚        â”‚
â”‚    â”‚â”€â”€[Fragment2]â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚        â”‚
â”‚    â”‚       â””â”€â”€"rosoft"     â”‚ ğŸ¤· Ù†Ù…ÛŒâ€ŒÙÙ‡Ù…Ù‡           â”‚        â”‚
â”‚    â”‚â”€â”€[Fragment3]â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚        â”‚
â”‚    â”‚       â””â”€â”€".com"       â”‚ ğŸ¤· Ù†Ù…ÛŒâ€ŒÙÙ‡Ù…Ù‡           â”‚        â”‚
â”‚    â”‚                       â”‚                        â”‚        â”‚
â”‚    â”‚â—€â•â•â•â•â•â•â• TLS Encrypted Tunnel â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¶â”‚       â”‚
â”‚    â”‚        (Ø¨Ù‡ Ù†Ø¸Ø± ØªØ±Ø§ÙÛŒÚ© Ø¹Ø§Ø¯ÛŒ Microsoft Ù…ÛŒØ§Ø¯)      â”‚       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Anti-DPI

### 1. TLS ClientHello Fragmentation
SNI Ø¯Ø± Ù¾Ú©Øª TLS ClientHello Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù‡. Ù…Ø§ Ø§ÛŒÙ† Ù¾Ú©Øª Ø±Ùˆ Ø¨Ù‡ ØªÛŒÚ©Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†ÛŒÚ© Ù…ÛŒâ€ŒØ´Ú©Ù†ÛŒÙ…:

```
Ù‚Ø¨Ù„: [ClientHello + SNI = blocked.com] â†’ DPI Ù…ÛŒâ€ŒØ¨Ù„Ø§Ú©Ù‡ âŒ

Ø¨Ø¹Ø¯: [Cli] â†’ [entH] â†’ [ello] â†’ [+SNI] â†’ [=blo] â†’ [cked] â†’ [.com]
                                  â†‘
                           DPI Ú¯ÛŒØ¬ Ù…ÛŒØ´Ù‡! âœ…
```

### 2. Chrome TLS Fingerprint
Ù¾Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø§ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ø´Ø¨ÛŒÙ‡ Chrome Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒØ§Ù† - cipher suitesØŒ extensionsØŒ Ùˆ ØªØ±ØªÛŒØ¨ Ù‡Ù…Ù‡ Ú†ÛŒØ².

### 3. Anti-Probe Protection
Ø§Ú¯Ù‡ Ú©Ø³ÛŒ (Ù…Ø«Ù„ censorship system) Ø³Ø±ÙˆØ± Ø±Ùˆ probe Ú©Ù†Ù‡ØŒ Ø¨Ù‡ Ø¬Ø§ÛŒ VPNØŒ ÛŒÙ‡ Ø³Ø§ÛŒØª ÙˆØ§Ù‚Ø¹ÛŒ (Ù…Ø«Ù„ Microsoft) Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ù‡!

## Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ Ø¨Ù‚ÛŒÙ‡

| ÙˆÛŒÚ˜Ú¯ÛŒ | OpenVPN | WireGuard | Xray | **XP Protocol** |
|-------|---------|-----------|------|-----------------|
| Anti-DPI | âŒ | âŒ | âœ… | âœ…âœ… |
| Fragmentation | âŒ | âŒ | âŒ | âœ… |
| Browser Fingerprint | âŒ | âŒ | âš ï¸ | âœ… |
| Anti-Probe | âŒ | âŒ | âš ï¸ | âœ… |
| Ø³Ø§Ø¯Ú¯ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ | âŒ | âœ… | âš ï¸ | âœ… |

## License

MIT

## Ù‡Ø´Ø¯Ø§Ø±

Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ù‡Ø¯Ø§Ù Ø¢Ù…ÙˆØ²Ø´ÛŒ Ùˆ Ø­ÙØ¸ Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ Ø§Ø³Øª. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ù† Ø¨Ø§ÛŒØ¯ Ù…Ø·Ø§Ø¨Ù‚ Ø¨Ø§ Ù‚ÙˆØ§Ù†ÛŒÙ† Ù…Ø­Ù„ÛŒ Ø´Ù…Ø§ Ø¨Ø§Ø´Ø¯.
